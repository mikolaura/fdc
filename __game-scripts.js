var PlayerController=pc.createScript("playerController");PlayerController.attributes.add("count",{type:"number",default:0}),PlayerController.attributes.add("CountText",{type:"entity"}),PlayerController.attributes.add("WinText",{type:"entity"}),PlayerController.attributes.add("speed",{type:"number",default:15}),PlayerController.attributes.add("player",{type:"entity"}),PlayerController.prototype.initialize=function(){this.app.off("R:point"),this.app.on("R:point",this.point,this),this.setCountText(),this.WinText.element.text=""},PlayerController.prototype.update=function(t){var e=this.entity.rigidbody,r=0;let o=0;this.app.keyboard.isPressed(pc.KEY_A)&&(r=-1),this.app.keyboard.isPressed(pc.KEY_D)&&(r=1),this.app.keyboard.isPressed(pc.KEY_S)&&(o=1),this.app.keyboard.isPressed(pc.KEY_W)&&(o=-1),o=new pc.Vec3(r,0,o),e.applyForce(o.scale(this.speed))},PlayerController.prototype.point=function(){this.count++,this.setCountText()};var count3=-1;PlayerController.prototype.setCountText=function(){count3+=1,this.CountText.element.text="count "+count3,count3>4&&(this.WinText.element.text="WIN")};var CameraController=pc.createScript("cameraController");CameraController.attributes.add("player",{type:"entity"}),CameraController.attributes.add("offset",{type:"vec3"}),CameraController.prototype.initialize=function(){this.offset=this.entity.getPosition().sub(this.player.getPosition())},CameraController.prototype.update=function(t){this.entity.setPosition(this.player.getPosition().add(this.offset))};var R=pc.createScript("r");R.prototype.initialize=function(){this.entity.collision.on("triggerenter",this.oneTriggerEnter,this)},R.prototype.update=function(t){this.entity.rotate(new pc.Vec3(15,30,45).scale(.01))},R.prototype.oneTriggerEnter=function(t){this.entity.enabled=!1,this.app.fire("R:point")};